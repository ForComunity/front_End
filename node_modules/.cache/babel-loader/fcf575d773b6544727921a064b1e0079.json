{"ast":null,"code":"import _defineProperty from \"F:\\\\pj\\\\Frontend-Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"F:\\\\pj\\\\Frontend-Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"F:\\\\pj\\\\Frontend-Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"F:\\\\pj\\\\Frontend-Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"F:\\\\pj\\\\Frontend-Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"F:\\\\pj\\\\Frontend-Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"F:\\\\pj\\\\Frontend-Admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"F:\\\\pj\\\\Frontend-Admin\\\\src\\\\admin\\\\views\\\\Save\\\\SaveUpdate\\\\SaveUpdate.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport notify from \"../../../helpers/notification\";\nimport { Button, Card, CardBody, CardFooter, CardHeader, Col, Form, FormGroup, Input, Label, Row } from 'reactstrap';\nimport { clone, create_name, pare_url_file } from \"../../../helpers\";\nimport { Link } from \"react-router-dom\";\n\nvar SaveUpdate =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SaveUpdate, _Component);\n\n  function SaveUpdate(props) {\n    var _this;\n\n    _classCallCheck(this, SaveUpdate);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SaveUpdate).call(this, props));\n\n    _this.loadCategoryList = function () {\n      fetch('http://127.0.0.1:8000/api/category', {\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this.setState({\n          isLoaded: true,\n          items: json\n        });\n      });\n    };\n\n    _this.onHandleChange = function (event) {\n      _this.setState({\n        species: _objectSpread({}, _this.state.species, _defineProperty({}, event.target.id, event.target.value))\n      });\n    };\n\n    _this.handleImageChange1 = function (e) {\n      _this.setState({\n        file1: e.target.files[0]\n      });\n    };\n\n    _this.handleImageChange2 = function (e) {\n      _this.setState({\n        file2: e.target.files[0]\n      });\n    };\n\n    _this.handleImageChange3 = function (e) {\n      _this.setState({\n        file3: e.target.files[0]\n      });\n    };\n\n    _this.onHandleSubmit = function (e) {\n      e.preventDefault();\n      var id = _this.props.match.params.id;\n      console.log(_this.state);\n      var species = JSON.parse(JSON.stringify(_this.state.species));\n      species.spe_images1 = create_name(_this.state.file1.name);\n      species.spe_images2 = create_name(_this.state.file2.name);\n      species.spe_images3 = create_name(_this.state.file3.name);\n      console.log(species);\n      axios({\n        method: 'put',\n        url: 'http://127.0.0.1:8000/api/species/' + id,\n        data: species\n      }).then(function (res) {\n        _this.setState({\n          species: species\n        }, function () {\n          notify.success('Chỉnh sửa thành công');\n        });\n\n        _this.props.history.push('/save');\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      var form_data = new FormData();\n      form_data.append('spe_images1', _this.state.file1, _this.state.file1.name);\n      form_data.append('spe_images2', _this.state.file2, _this.state.file2.name);\n      form_data.append('spe_images3', _this.state.file3, _this.state.file3.name);\n      var url = 'http://127.0.0.1:8000/api/uploadFileSave';\n      axios.post(url, form_data, {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      }).then(function (res) {}).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.loadSaveInfor = function () {\n      var id = _this.props.match.params.id;\n      fetch('http://127.0.0.1:8000/api/species/' + id, {\n        method: 'get'\n      }).then(function (res) {\n        return res.json();\n      }).then(function (json) {\n        _this.setState({\n          isLoaded: true,\n          species: json\n        });\n      });\n    };\n\n    _this.state = {\n      feature_name: \"Chỉnh sửa giải cứu\",\n      species: {\n        spe_name: \"\",\n        spe_category_id: \"\",\n        spe_description: \"\",\n        spe_hot: \"\",\n        spe_images1: null,\n        spe_images2: null,\n        spe_images3: null\n      },\n      items: [],\n      isLoaded: false,\n      file1: null,\n      file2: null,\n      file3: null\n    };\n    return _this;\n  }\n\n  _createClass(SaveUpdate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadSaveInfor();\n      this.loadCategoryList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          items = _this$state.items,\n          isLoaded = _this$state.isLoaded,\n          species = _this$state.species;\n\n      if (!isLoaded) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(\"div\", {\n          className: \"animated fadeIn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(Col, {\n          xs: \"6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(CardHeader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"strong\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, this.state.feature_name)), React.createElement(CardBody, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, React.createElement(Form, {\n          action: \"\",\n          method: \"post\",\n          encType: \"multipart/form-data\",\n          className: \"form-horizontal\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, React.createElement(FormGroup, {\n          row: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(Label, {\n          htmlFor: \"spe_category_id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"Ch\\u1ECDn danh m\\u1EE5c\")), React.createElement(Col, {\n          xs: \"12\",\n          md: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"select\",\n          name: \"spe_category_id\",\n          id: \"spe_category_id\",\n          value: species.spe_category_id,\n          onChange: this.onHandleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          value: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Ch\\u1ECDn danh m\\u1EE5c\"), items.map(function (category, index) {\n          return React.createElement(\"option\", {\n            key: index,\n            value: category.id,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162\n            },\n            __self: this\n          }, category.cate_name);\n        })))), React.createElement(FormGroup, {\n          row: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, React.createElement(Label, {\n          htmlFor: \"spe_name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }, \"T\\xEAn ch\\u1EE7ng lo\\u1EA1i\")), React.createElement(Col, {\n          xs: \"12\",\n          md: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, React.createElement(Input, {\n          placeholder: \"fa fa-home\",\n          id: \"spe_name\",\n          name: \"spe_name\",\n          value: species.spe_name,\n          onChange: this.onHandleChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174\n          },\n          __self: this\n        }))), React.createElement(FormGroup, {\n          row: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(Label, {\n          htmlFor: \"spe_images1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh 1\")), React.createElement(Col, {\n          xs: \"12\",\n          md: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"file\",\n          id: \"spe_images1\",\n          accept: \"image/png, image/jpeg, image/jpeg\",\n          name: \"spe_images1\",\n          onChange: this.handleImageChange1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }))), React.createElement(FormGroup, {\n          row: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(Label, {\n          htmlFor: \"spe_images2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh 2\")), React.createElement(Col, {\n          xs: \"12\",\n          md: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"file\",\n          id: \"spe_images2\",\n          accept: \"image/png, image/jpeg, image/jpeg\",\n          name: \"spe_images2\",\n          onChange: this.handleImageChange2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }))), React.createElement(FormGroup, {\n          row: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        }, React.createElement(Label, {\n          htmlFor: \"spe_images3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        }, \"H\\xECnh \\u1EA3nh 3\")), React.createElement(Col, {\n          xs: \"12\",\n          md: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"file\",\n          id: \"spe_images3\",\n          accept: \"image/png, image/jpeg, image/jpeg\",\n          name: \"spe_images3\",\n          onChange: this.handleImageChange3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205\n          },\n          __self: this\n        }))), React.createElement(FormGroup, {\n          row: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"3\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, React.createElement(Label, {\n          htmlFor: \"spe_description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, \"M\\xF4 t\\u1EA3\")), React.createElement(Col, {\n          xs: \"12\",\n          md: \"9\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"textarea\",\n          id: \"spe_description\",\n          name: \"spe_description\",\n          rows: \"7\",\n          placeholder: \"Nh\\u1EADp M\\xF4 t\\u1EA3\",\n          onChange: this.onHandleChange,\n          value: species.spe_description,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }))))), React.createElement(CardFooter, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, React.createElement(Button, {\n          className: \"mr-3\",\n          type: \"submit\",\n          size: \"sm\",\n          color: \"primary\",\n          onClick: this.onHandleSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-dot-circle-o\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, \" \"), \" Ch\\u1EC9nh s\\u1EEDa\"), React.createElement(Link, {\n          to: \"/save\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"reset\",\n          size: \"sm\",\n          color: \"danger\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fa fa-ban\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }, \" \"), \" H\\u1EE7y b\\u1ECF\")))))));\n      }\n    }\n  }]);\n\n  return SaveUpdate;\n}(Component);\n\nexport default SaveUpdate;","map":{"version":3,"sources":["F:\\pj\\Frontend-Admin\\src\\admin\\views\\Save\\SaveUpdate\\SaveUpdate.js"],"names":["React","Component","axios","notify","Button","Card","CardBody","CardFooter","CardHeader","Col","Form","FormGroup","Input","Label","Row","clone","create_name","pare_url_file","Link","SaveUpdate","props","loadCategoryList","fetch","method","headers","then","res","json","setState","isLoaded","items","onHandleChange","event","species","state","target","id","value","handleImageChange1","e","file1","files","handleImageChange2","file2","handleImageChange3","file3","onHandleSubmit","preventDefault","match","params","console","log","JSON","parse","stringify","spe_images1","name","spe_images2","spe_images3","url","data","success","history","push","catch","err","form_data","FormData","append","post","loadSaveInfor","feature_name","spe_name","spe_category_id","spe_description","spe_hot","map","category","index","cate_name"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from \"axios\";\r\nimport notify from \"../../../helpers/notification\";\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardBody,\r\n  CardFooter,\r\n  CardHeader,\r\n  Col,\r\n  Form,\r\n  FormGroup,\r\n  Input,\r\n  Label,\r\n  Row,\r\n} from 'reactstrap';\r\nimport {clone, create_name, pare_url_file} from \"../../../helpers\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nclass SaveUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      feature_name: \"Chỉnh sửa giải cứu\",\r\n      species:{\r\n        spe_name: \"\",\r\n        spe_category_id: \"\",\r\n        spe_description: \"\",\r\n        spe_hot: \"\",\r\n        spe_images1: null,\r\n        spe_images2: null,\r\n        spe_images3: null\r\n      },\r\n\r\n      items: [],\r\n      isLoaded: false,\r\n      file1: null,\r\n      file2: null,\r\n      file3: null\r\n\r\n    }\r\n  }\r\n\r\n  loadCategoryList = () => {\r\n    fetch('http://127.0.0.1:8000/api/category', {\r\n      method: 'get',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Accept': 'application/json',\r\n      }\r\n    }).then(res => res.json()).then(json => {\r\n      this.setState({\r\n        isLoaded: true,\r\n        items: json,\r\n      })\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.loadSaveInfor();\r\n    this.loadCategoryList();\r\n\r\n  }\r\n\r\n  onHandleChange = (event) => {\r\n    this.setState({\r\n      species: {...this.state.species, [event.target.id]: event.target.value},\r\n    });\r\n};\r\n\r\n  handleImageChange1 = (e) => {\r\n    this.setState({\r\n      file1: e.target.files[0],\r\n    })\r\n  };\r\n  handleImageChange2 = (e) => {\r\n    this.setState({\r\n      file2: e.target.files[0],\r\n\r\n    })\r\n  };\r\n  handleImageChange3 = (e) => {\r\n    this.setState({\r\n      file3: e.target.files[0],\r\n\r\n    })\r\n  };\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let id = this.props.match.params.id;\r\n    console.log(this.state);\r\n    let species = JSON.parse(JSON.stringify(this.state.species));\r\n    species.spe_images1 = create_name(this.state.file1.name);\r\n    species.spe_images2 = create_name(this.state.file2.name);\r\n    species.spe_images3 = create_name(this.state.file3.name);\r\n    console.log(species);\r\n    axios({\r\n      method: 'put',\r\n      url:'http://127.0.0.1:8000/api/species/'+id,\r\n      data: species\r\n      })\r\n      .then(res => {\r\n        this.setState({species}, () => {\r\n          notify.success('Chỉnh sửa thành công');\r\n        });\r\n        this.props.history.push('/save');\r\n      })\r\n      .catch(err => console.log(err));\r\n    let form_data = new FormData();\r\n    form_data.append('spe_images1', this.state.file1, this.state.file1.name);\r\n    form_data.append('spe_images2', this.state.file2, this.state.file2.name);\r\n    form_data.append('spe_images3', this.state.file3, this.state.file3.name);\r\n    let url = 'http://127.0.0.1:8000/api/uploadFileSave';\r\n    axios.post(url, form_data,{\r\n      headers: {\r\n        'content-type': 'multipart/form-data'\r\n      }\r\n    })\r\n      .then(res => {\r\n      })\r\n      .catch(err => console.log(err))\r\n  };\r\n\r\n  loadSaveInfor = () => {\r\n    let id = this.props.match.params.id;\r\n    fetch('http://127.0.0.1:8000/api/species/' + id, {\r\n      method: 'get',\r\n    }).then(res => res.json()).then(json => {\r\n      this.setState({\r\n        isLoaded: true,\r\n        species: json,\r\n      })\r\n    });\r\n  };\r\n  render() {\r\n    let {items, isLoaded, species} = this.state;\r\n    if (!isLoaded) {\r\n      return <div>Loading...</div>\r\n    } else {\r\n      return (\r\n        <div className=\"animated fadeIn\">\r\n          <Row>\r\n            <Col xs=\"6\">\r\n              <Card>\r\n                <CardHeader>\r\n                  <strong>{this.state.feature_name}</strong>\r\n                </CardHeader>\r\n                <CardBody>\r\n                  <Form action=\"\" method=\"post\" encType=\"multipart/form-data\" className=\"form-horizontal\">\r\n\r\n                    <FormGroup row>\r\n                      <Col md=\"3\">\r\n                        <Label htmlFor=\"spe_category_id\">Chọn danh mục</Label>\r\n                      </Col>\r\n                      <Col xs=\"12\" md=\"9\">\r\n                        <Input type=\"select\" name=\"spe_category_id\" id=\"spe_category_id\"\r\n                               value={species.spe_category_id}\r\n                               onChange={this.onHandleChange}>\r\n                          <option value=\"\">Chọn danh mục</option>\r\n                          {items.map((category, index) => {\r\n                            return <option key={index}\r\n                                           value={category.id}>{category.cate_name}</option>\r\n                          })}\r\n                        </Input>\r\n                      </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup row>\r\n                      <Col md=\"3\">\r\n                        <Label htmlFor=\"spe_name\">Tên chủng loại</Label>\r\n                      </Col>\r\n                      <Col xs=\"12\" md=\"9\">\r\n                        <Input placeholder=\"fa fa-home\" id=\"spe_name\" name=\"spe_name\"\r\n                               value={species.spe_name}\r\n                               onChange={this.onHandleChange}/>\r\n                      </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup row>\r\n                      <Col md=\"3\">\r\n                        <Label htmlFor=\"spe_images1\">Hình ảnh 1</Label>\r\n                      </Col>\r\n                      <Col xs=\"12\" md=\"9\">\r\n                        <Input type=\"file\" id=\"spe_images1\" accept=\"image/png, image/jpeg, image/jpeg\"  name=\"spe_images1\"\r\n                               onChange={this.handleImageChange1}\r\n                                />\r\n                      </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row>\r\n                      <Col md=\"3\">\r\n                        <Label htmlFor=\"spe_images2\">Hình ảnh 2</Label>\r\n                      </Col>\r\n                      <Col xs=\"12\" md=\"9\">\r\n                        <Input type=\"file\" id=\"spe_images2\" accept=\"image/png, image/jpeg, image/jpeg\"  name=\"spe_images2\"\r\n                               onChange={this.handleImageChange2}\r\n                               />\r\n                      </Col>\r\n                    </FormGroup>\r\n                    <FormGroup row>\r\n                      <Col md=\"3\">\r\n                        <Label htmlFor=\"spe_images3\">Hình ảnh 3</Label>\r\n                      </Col>\r\n                      <Col xs=\"12\" md=\"9\">\r\n                        <Input type=\"file\" id=\"spe_images3\" accept=\"image/png, image/jpeg, image/jpeg\"  name=\"spe_images3\"\r\n                               onChange={this.handleImageChange3}\r\n                               />\r\n                      </Col>\r\n                    </FormGroup>\r\n\r\n                    <FormGroup row>\r\n                      <Col md=\"3\">\r\n                        <Label htmlFor=\"spe_description\">Mô tả</Label>\r\n                      </Col>\r\n                      <Col xs=\"12\" md=\"9\">\r\n                        <Input type=\"textarea\" id=\"spe_description\" name=\"spe_description\" rows=\"7\"\r\n                               placeholder=\"Nhập Mô tả\" onChange={this.onHandleChange}\r\n                               value={species.spe_description}\r\n                        />\r\n                      </Col>\r\n                    </FormGroup>\r\n                  </Form>\r\n                </CardBody>\r\n                <CardFooter>\r\n                  <Button className=\"mr-3\" type=\"submit\" size=\"sm\" color=\"primary\"\r\n                          onClick={this.onHandleSubmit}>\r\n                    <i className=\"fa fa-dot-circle-o\"> </i> Chỉnh sửa\r\n                  </Button>\r\n                  <Link to={\"/save\"}>\r\n                    <Button type=\"reset\" size=\"sm\" color=\"danger\"><i className=\"fa fa-ban\"> </i> Hủy bỏ</Button>\r\n                  </Link>\r\n                </CardFooter>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default SaveUpdate;\r\n"]},"metadata":{},"sourceType":"module"}